<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monster Farm - –£—Ö–∞–∂–∏–≤–∞–π –∑–∞ –º–æ–Ω—Å—Ç—Ä–∏–∫–∞–º–∏!</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üëæ</text></svg>">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Comic Sans MS', cursive, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #FFB6C1, #87CEEB);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            color: #333;
        }
        
        .game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 1200px;
            gap: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .header h1 {
            font-size: 3rem;
            color: #FF69B4;
            text-shadow: 2px 2px 0 #FFD700, 4px 4px 0 rgba(0,0,0,0.1);
            margin-bottom: 10px;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            width: 100%;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #FF69B4;
        }
        
        .game-area {
            display: flex;
            gap: 30px;
            width: 100%;
        }
        
        .farm-container {
            flex: 2;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .farm-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .monster-pen {
            width: 150px;
            height: 150px;
            background: linear-gradient(135deg, #E0F7FA, #B2EBF2);
            border: 3px solid #4DD0E1;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            padding: 10px;
        }
        
        .monster-pen:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px #FF69B4;
        }
        
        .monster-pen.occupied {
            background: linear-gradient(135deg, #FFF9C4, #FFECB3);
        }
        
        .monster {
            width: 80px;
            height: 80px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            transition: all 0.5s;
            position: relative;
        }
        
        .monster.baby {
            transform: scale(0.7);
        }
        
        .monster.teen {
            transform: scale(0.9);
        }
        
        .monster.adult {
            transform: scale(1.1);
        }
        
        .monster.happy {
            animation: bounce 1s infinite;
        }
        
        .monster.hungry {
            animation: shake 0.5s infinite;
        }
        
        .monster-status {
            position: absolute;
            bottom: 5px;
            font-size: 0.7rem;
            text-align: center;
            width: 100%;
        }
        
        .status-bar {
            width: 80%;
            height: 6px;
            background: #E0E0E0;
            border-radius: 3px;
            margin: 2px 0;
            overflow: hidden;
        }
        
        .status-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 0.3s;
        }
        
        .hunger-fill {
            background: #FF9800;
        }
        
        .happiness-fill {
            background: #4CAF50;
        }
        
        .controls {
            flex: 1;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .control-section {
            background: #FFECB3;
            padding: 15px;
            border-radius: 15px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .control-section h3 {
            color: #FF69B4;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .monster-types {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        
        .monster-type {
            width: 80px;
            height: 80px;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            padding: 5px;
            background: #FFF;
            box-shadow: 0 3px 5px rgba(0,0,0,0.2);
        }
        
        .monster-type:hover {
            transform: scale(1.1);
        }
        
        .monster-type.selected {
            box-shadow: 0 0 0 3px #FF69B4;
        }
        
        .monster-type.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .monster-type.disabled:hover {
            transform: none;
        }
        
        .monster-icon {
            width: 40px;
            height: 40px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            margin-bottom: 5px;
        }
        
        .monster-name {
            font-size: 0.7rem;
            text-align: center;
        }
        
        .monster-cost {
            font-size: 0.7rem;
            color: #FF69B4;
            font-weight: bold;
        }
        
        .care-actions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        
        .care-btn {
            background: #4DD0E1;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }
        
        .care-btn:hover {
            background: #26C6DA;
            transform: translateY(-2px);
        }
        
        .care-btn:disabled {
            background: #B0BEC5;
            cursor: not-allowed;
            transform: none;
        }
        
        .care-icon {
            font-size: 1.2rem;
        }
        
        .time-control {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .slider-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .slider-value {
            font-weight: bold;
            color: #FF69B4;
            min-width: 40px;
        }
        
        button {
            background: #FF69B4;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 3px 5px rgba(0,0,0,0.2);
        }
        
        button:hover {
            background: #FF1493;
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(0,0,0,0.2);
        }
        
        .inventory {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        
        .inventory-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            background: #FFF;
            padding: 10px;
            border-radius: 10px;
            box-shadow: 0 3px 5px rgba(0,0,0,0.2);
            width: 80px;
        }
        
        .item-icon {
            width: 40px;
            height: 40px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            margin-bottom: 5px;
        }
        
        .item-count {
            font-weight: bold;
            color: #FF69B4;
        }
        
        .collection {
            background: #E8F5E9;
            padding: 15px;
            border-radius: 15px;
            margin-top: 10px;
        }
        
        .collection h4 {
            color: #2E7D32;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .collection-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }
        
        .collection-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 5px;
            border-radius: 10px;
            background: #FFF;
        }
        
        .collection-item.unlocked {
            background: #C8E6C9;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 5px 25px rgba(0,0,0,0.3);
            position: relative;
            text-align: center;
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: #FF69B4;
        }
        
        .shop-items {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .shop-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            background: #FFECB3;
            padding: 15px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .shop-item:hover {
            transform: scale(1.05);
            background: #FFD54F;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transform: translateX(150%);
            transition: transform 0.5s;
            z-index: 1001;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        @keyframes glow {
            from { filter: drop-shadow(0 0 5px #FFD700); }
            to { filter: drop-shadow(0 0 15px #FFD700); }
        }
        
        /* –°–≤–µ—Ç—è—â–∏–µ—Å—è —ç–ª–µ–º–µ–Ω—Ç—ã */
        .glow {
            text-shadow: 0 0 10px #FFD700, 0 0 20px #FFD700;
        }
        
        .light {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #FFD700;
            box-shadow: 0 0 10px 5px #FFD700;
            animation: twinkle 3s infinite;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }
        
        /* –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Å–≤–µ—Ç–ª—è—á–∫–æ–≤ */
        .light:nth-child(1) { top: 10%; left: 5%; }
        .light:nth-child(2) { top: 20%; right: 10%; }
        .light:nth-child(3) { bottom: 15%; left: 15%; }
        .light:nth-child(4) { bottom: 25%; right: 5%; }
        .light:nth-child(5) { top: 40%; left: 20%; }
        .light:nth-child(6) { top: 60%; right: 20%; }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –º–æ–Ω—Å—Ç—Ä–∏–∫–æ–≤ */
        .monster-fluffy { background: conic-gradient(#FF69B4, #FFB6C1, #FF69B4); border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%; }
        .monster-spiky { background: radial-gradient(#4DD0E1, #26C6DA); clip-path: polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%); }
        .monster-round { background: radial-gradient(#FF9800, #FF5722); border-radius: 50%; }
        .monster-plant { background: conic-gradient(#4CAF50, #8BC34A, #4CAF50); border-radius: 40% 40% 60% 60% / 60% 60% 40% 40%; }
    </style>
</head>
<body>
    <!-- –°–≤–µ—Ç–ª—è—á–∫–∏ -->
    <div class="light"></div>
    <div class="light"></div>
    <div class="light"></div>
    <div class="light"></div>
    <div class="light"></div>
    <div class="light"></div>
    
    <div class="game-container">
        <div class="header">
            <h1 class="glow">Monster Farm</h1>
            <p>–£—Ö–∞–∂–∏–≤–∞–π –∑–∞ –º–∏–ª—ã–º–∏ –º–æ–Ω—Å—Ç—Ä–∏–∫–∞–º–∏!</p>
        </div>
        
        <div class="stats">
            <div class="stat-item">
                <div>–û—á–∫–∏ —Å—á–∞—Å—Ç—å—è</div>
                <div class="stat-value" id="happiness">100</div>
            </div>
            <div class="stat-item">
                <div>–ú–æ–Ω–µ—Ç—ã</div>
                <div class="stat-value" id="coins">150</div>
            </div>
            <div class="stat-item">
                <div>–£—Ä–æ–≤–µ–Ω—å —Ñ–µ—Ä–º—ã</div>
                <div class="stat-value" id="level">1</div>
            </div>
        </div>
        
        <div class="game-area">
            <div class="farm-container">
                <h2>–§–µ—Ä–º–∞ –º–æ–Ω—Å—Ç—Ä–∏–∫–æ–≤</h2>
                <div class="farm-grid" id="farm-grid">
                    <!-- –ó–∞–≥–æ–Ω—ã –±—É–¥—É—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                </div>
                <button id="care-all-btn">–ü–æ–∫–æ—Ä–º–∏—Ç—å –≤—Å–µ—Ö</button>
            </div>
            
            <div class="controls">
                <div class="control-section">
                    <h3>–í–∏–¥—ã –º–æ–Ω—Å—Ç—Ä–∏–∫–æ–≤</h3>
                    <div class="monster-types" id="monster-types">
                        <!-- –¢–∏–ø—ã –º–æ–Ω—Å—Ç—Ä–æ–≤ –±—É–¥—É—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                    </div>
                </div>
                
                <div class="control-section">
                    <h3>–£—Ö–æ–¥ –∑–∞ –º–æ–Ω—Å—Ç—Ä–∏–∫–æ–º</h3>
                    <div class="care-actions">
                        <button class="care-btn" id="feed-btn" disabled>
                            <span class="care-icon">üçï</span>
                            <span>–ü–æ–∫–æ—Ä–º–∏—Ç—å</span>
                        </button>
                        <button class="care-btn" id="play-btn" disabled>
                            <span class="care-icon">üéÆ</span>
                            <span>–ü–æ–∏–≥—Ä–∞—Ç—å</span>
                        </button>
                        <button class="care-btn" id="clean-btn" disabled>
                            <span class="care-icon">‚ú®</span>
                            <span>–ü–æ—á–∏—Å—Ç–∏—Ç—å</span>
                        </button>
                        <button class="care-btn" id="heal-btn" disabled>
                            <span class="care-icon">‚ù§Ô∏è</span>
                            <span>–ü–æ–ª–µ—á–∏—Ç—å</span>
                        </button>
                    </div>
                </div>
                
                <div class="control-section">
                    <h3>–°–∫–æ—Ä–æ—Å—Ç—å –∏–≥—Ä—ã</h3>
                    <div class="time-control">
                        <div class="slider-container">
                            <span>–ú–µ–¥–ª–µ–Ω–Ω–æ</span>
                            <input type="range" id="time-scale" min="1" max="10" value="5">
                            <span>–ë—ã—Å—Ç—Ä–æ</span>
                            <span class="slider-value" id="time-scale-value">5x</span>
                        </div>
                        <p>–ò–∑–º–µ–Ω–∏—Ç–µ —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–æ—Å—Ç–∞ –º–æ–Ω—Å—Ç—Ä–∏–∫–æ–≤</p>
                    </div>
                </div>
                
                <div class="control-section">
                    <h3>–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h3>
                    <div class="inventory" id="inventory">
                        <!-- –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ JavaScript -->
                    </div>
                    
                    <div class="collection">
                        <h4>–ö–æ–ª–ª–µ–∫—Ü–∏—è –º–æ–Ω—Å—Ç—Ä–∏–∫–æ–≤</h4>
                        <div class="collection-grid" id="collection">
                            <!-- –ö–æ–ª–ª–µ–∫—Ü–∏—è –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ JavaScript -->
                        </div>
                    </div>
                </div>
                
                <button id="shop-btn">–ú–∞–≥–∞–∑–∏–Ω</button>
                <button id="evolve-btn" disabled>–≠–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</button>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –º–∞–≥–∞–∑–∏–Ω–∞ -->
    <div class="modal" id="shop-modal">
        <div class="modal-content">
            <span class="close-modal" id="close-shop">&times;</span>
            <h2>–ú–∞–≥–∞–∑–∏–Ω –º–æ–Ω—Å—Ç—Ä–∏–∫–æ–≤</h2>
            <p>–ü–æ–∫—É–ø–∞–π—Ç–µ –µ–¥—É –∏ –ø—Ä–µ–¥–º–µ—Ç—ã –¥–ª—è —É—Ö–æ–¥–∞!</p>
            
            <div class="shop-items" id="shop-items">
                <!-- –¢–æ–≤–∞—Ä—ã –º–∞–≥–∞–∑–∏–Ω–∞ –±—É–¥—É—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
            </div>
        </div>
    </div>
    
    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div class="notification" id="notification"></div>
    
    <script>
        // –ò–≥—Ä–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
        const gameState = {
            happiness: 100,
            coins: 150,
            level: 1,
            selectedMonsterType: null,
            selectedPen: null,
            timeScale: 5,
            monsters: [],
            inventory: {
                food: 5,
                toys: 3,
                medicine: 2
            },
            collection: {},
            pens: []
        };

        // –¢–∏–ø—ã –º–æ–Ω—Å—Ç—Ä–∏–∫–æ–≤
        const monsterTypes = {
            fluffy: {
                name: '–ü—É—à–∏—Å—Ç–∏–∫',
                cost: 20,
                growthTime: 15,
                value: 30,
                happinessGain: 10,
                color: '#FF69B4',
                class: 'monster-fluffy'
            },
            spiky: {
                name: '–ö–æ–ª—é—á–∫–∞',
                cost: 25,
                growthTime: 12,
                value: 35,
                happinessGain: 8,
                color: '#4DD0E1',
                class: 'monster-spiky'
            },
            round: {
                name: '–ö—Ä—É–≥–ª–∏–∫',
                cost: 30,
                growthTime: 18,
                value: 40,
                happinessGain: 12,
                color: '#FF9800',
                class: 'monster-round'
            },
            plant: {
                name: '–†–∞—Å—Ç–∏—à–∫–∞',
                cost: 35,
                growthTime: 20,
                value: 50,
                happinessGain: 15,
                color: '#4CAF50',
                class: 'monster-plant'
            }
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        function initGame() {
            createFarmGrid();
            createMonsterSelection();
            createInventoryDisplay();
            createCollectionDisplay();
            createShopItems();
            updateUI();
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
            document.getElementById('care-all-btn').addEventListener('click', careAllMonsters);
            document.getElementById('shop-btn').addEventListener('click', openShop);
            document.getElementById('close-shop').addEventListener('click', closeShop);
            document.getElementById('evolve-btn').addEventListener('click', evolveMonster);
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —É—Ö–æ–¥–∞
            document.getElementById('feed-btn').addEventListener('click', () => careMonster('feed'));
            document.getElementById('play-btn').addEventListener('click', () => careMonster('play'));
            document.getElementById('clean-btn').addEventListener('click', () => careMonster('clean'));
            document.getElementById('heal-btn').addEventListener('click', () => careMonster('heal'));
            
            const timeScaleSlider = document.getElementById('time-scale');
            timeScaleSlider.addEventListener('input', function() {
                gameState.timeScale = parseInt(this.value);
                document.getElementById('time-scale-value').textContent = this.value + 'x';
            });
            
            // –ò–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
            setInterval(gameLoop, 1000);
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–∫–∏ —Ñ–µ—Ä–º—ã
        function createFarmGrid() {
            const farmGrid = document.getElementById('farm-grid');
            farmGrid.innerHTML = '';
            
            for (let i = 0; i < 6; i++) {
                const pen = document.createElement('div');
                pen.className = 'monster-pen';
                pen.dataset.index = i;
                
                pen.innerHTML = `
                    <div class="pen-label">–ó–∞–≥–æ–Ω ${i + 1}</div>
                    <div class="pen-content">–ü—É—Å—Ç–æ</div>
                `;
                
                pen.addEventListener('click', function() {
                    selectPen(this);
                });
                
                farmGrid.appendChild(pen);
                gameState.pens.push({
                    element: pen,
                    monster: null,
                    occupied: false
                });
            }
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –º–æ–Ω—Å—Ç—Ä–∏–∫–æ–≤
        function createMonsterSelection() {
            const monsterTypesContainer = document.getElementById('monster-types');
            monsterTypesContainer.innerHTML = '';
            
            for (const [key, monster] of Object.entries(monsterTypes)) {
                const monsterElement = document.createElement('div');
                monsterElement.className = 'monster-type';
                monsterElement.dataset.type = key;
                
                monsterElement.innerHTML = `
                    <div class="monster-icon ${monster.class}"></div>
                    <div class="monster-name">${monster.name}</div>
                    <div class="monster-cost">${monster.cost} –º–æ–Ω–µ—Ç</div>
                `;
                
                monsterElement.addEventListener('click', function() {
                    selectMonsterType(this);
                });
                
                monsterTypesContainer.appendChild(monsterElement);
            }
            
            updateMonsterAvailability();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –º–æ–Ω—Å—Ç—Ä–∏–∫–æ–≤
        function updateMonsterAvailability() {
            document.querySelectorAll('.monster-type').forEach(monsterElement => {
                const monsterType = monsterElement.dataset.type;
                const monster = monsterTypes[monsterType];
                
                if (gameState.coins < monster.cost) {
                    monsterElement.classList.add('disabled');
                } else {
                    monsterElement.classList.remove('disabled');
                }
            });
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
        function createInventoryDisplay() {
            const inventory = document.getElementById('inventory');
            inventory.innerHTML = '';
            
            const items = [
                { key: 'food', name: '–ï–¥–∞', icon: 'üçï', count: gameState.inventory.food },
                { key: 'toys', name: '–ò–≥—Ä—É—à–∫–∏', icon: 'üéÆ', count: gameState.inventory.toys },
                { key: 'medicine', name: '–õ–µ–∫–∞—Ä—Å—Ç–≤–∞', icon: '‚ù§Ô∏è', count: gameState.inventory.medicine }
            ];
            
            for (const item of items) {
                const inventoryItem = document.createElement('div');
                inventoryItem.className = 'inventory-item';
                
                inventoryItem.innerHTML = `
                    <div class="item-icon">${item.icon}</div>
                    <div>${item.name}</div>
                    <div class="item-count">${item.count}</div>
                `;
                
                inventory.appendChild(inventoryItem);
            }
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏
        function createCollectionDisplay() {
            const collection = document.getElementById('collection');
            collection.innerHTML = '';
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏, –µ—Å–ª–∏ –æ–Ω–∞ –ø—É—Å—Ç–∞—è
            if (Object.keys(gameState.collection).length === 0) {
                for (const key in monsterTypes) {
                    gameState.collection[key] = {
                        unlocked: false,
                        count: 0
                    };
                }
            }
            
            for (const [key, monster] of Object.entries(monsterTypes)) {
                const collectionItem = document.createElement('div');
                collectionItem.className = `collection-item ${gameState.collection[key].unlocked ? 'unlocked' : ''}`;
                
                collectionItem.innerHTML = `
                    <div class="monster-icon ${monster.class}"></div>
                    <div class="monster-name">${monster.name}</div>
                    <div class="item-count">${gameState.collection[key].count}</div>
                `;
                
                collection.appendChild(collectionItem);
            }
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –º–∞–≥–∞–∑–∏–Ω–∞
        function createShopItems() {
            const shopItems = document.getElementById('shop-items');
            shopItems.innerHTML = '';
            
            const shopItemsData = [
                { type: 'food', name: '–ö–æ—Ä–º', cost: 5, effect: '+1 –µ–¥–∞', icon: 'üçï' },
                { type: 'toy', name: '–ò–≥—Ä—É—à–∫–∞', cost: 8, effect: '+1 –∏–≥—Ä—É—à–∫–∞', icon: 'üéÆ' },
                { type: 'medicine', name: '–õ–µ–∫–∞—Ä—Å—Ç–≤–æ', cost: 12, effect: '+1 –ª–µ–∫–∞—Ä—Å—Ç–≤–æ', icon: '‚ù§Ô∏è' },
                { type: 'upgrade', name: '–£–ª—É—á—à–µ–Ω–∏–µ', cost: 50, effect: '+1 —É—Ä–æ–≤–µ–Ω—å', icon: '‚≠ê' }
            ];
            
            for (const item of shopItemsData) {
                const shopItem = document.createElement('div');
                shopItem.className = 'shop-item';
                shopItem.dataset.type = item.type;
                
                shopItem.innerHTML = `
                    <div class="item-icon">${item.icon}</div>
                    <div>${item.name}</div>
                    <div>${item.effect}</div>
                    <div>${item.cost} –º–æ–Ω–µ—Ç</div>
                    <button class="buy-btn" data-type="${item.type}">–ö—É–ø–∏—Ç—å</button>
                `;
                
                shopItems.appendChild(shopItem);
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –ø–æ–∫—É–ø–∫–∏
            document.querySelectorAll('.buy-btn').forEach(button => {
                button.addEventListener('click', function() {
                    buyItem(this.dataset.type);
                });
            });
        }

        // –í—ã–±–æ—Ä —Ç–∏–ø–∞ –º–æ–Ω—Å—Ç—Ä–∏–∫–∞
        function selectMonsterType(monsterElement) {
            if (monsterElement.classList.contains('disabled')) {
                showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç –¥–ª—è –ø–æ–∫—É–ø–∫–∏ —ç—Ç–æ–≥–æ –º–æ–Ω—Å—Ç—Ä–∏–∫–∞!');
                return;
            }
            
            // –°–Ω–∏–º–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å–æ –≤—Å–µ—Ö –º–æ–Ω—Å—Ç—Ä–∏–∫–æ–≤
            document.querySelectorAll('.monster-type').forEach(monster => {
                monster.classList.remove('selected');
            });
            
            // –í—ã–¥–µ–ª—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –º–æ–Ω—Å—Ç—Ä–∏–∫–∞
            monsterElement.classList.add('selected');
            gameState.selectedMonsterType = monsterElement.dataset.type;
            
            showNotification(`–í—ã–±—Ä–∞–Ω: ${monsterTypes[gameState.selectedMonsterType].name}`);
        }

        // –í—ã–±–æ—Ä –∑–∞–≥–æ–Ω–∞
        function selectPen(penElement) {
            const index = parseInt(penElement.dataset.index);
            const pen = gameState.pens[index];
            
            // –°–Ω–∏–º–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å–æ –≤—Å–µ—Ö –∑–∞–≥–æ–Ω–æ–≤
            document.querySelectorAll('.monster-pen').forEach(pen => {
                pen.classList.remove('selected');
            });
            
            // –í—ã–¥–µ–ª—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π –∑–∞–≥–æ–Ω
            penElement.classList.add('selected');
            gameState.selectedPen = index;
            
            // –ï—Å–ª–∏ –∑–∞–≥–æ–Ω –ø—É—Å—Ç–æ–π –∏ –≤—ã–±—Ä–∞–Ω —Ç–∏–ø –º–æ–Ω—Å—Ç—Ä–∏–∫–∞
            if (!pen.occupied && gameState.selectedMonsterType) {
                buyMonster(index, gameState.selectedMonsterType);
                return;
            }
            
            // –ï—Å–ª–∏ –≤ –∑–∞–≥–æ–Ω–µ –µ—Å—Ç—å –º–æ–Ω—Å—Ç—Ä–∏–∫
            if (pen.occupied) {
                enableCareButtons();
                showNotification(`–í—ã–±—Ä–∞–Ω –º–æ–Ω—Å—Ç—Ä–∏–∫ –≤ –∑–∞–≥–æ–Ω–µ ${index + 1}`);
            }
        }

        // –ü–æ–∫—É–ø–∫–∞ –º–æ–Ω—Å—Ç—Ä–∏–∫–∞
        function buyMonster(penIndex, monsterType) {
            const pen = gameState.pens[penIndex];
            const monster = monsterTypes[monsterType];
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ –º–æ–Ω–µ—Ç
            if (gameState.coins < monster.cost) {
                showNotification(`–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç –¥–ª—è –ø–æ–∫—É–ø–∫–∏ ${monster.name}!`);
                return;
            }
            
            // –°–ø–∏—Å–∞–Ω–∏–µ –º–æ–Ω–µ—Ç
            gameState.coins -= monster.cost;
            
            // –°–æ–∑–¥–∞–µ–º –º–æ–Ω—Å—Ç—Ä–∏–∫–∞
            pen.monster = {
                type: monsterType,
                stage: 'baby',
                growth: 0,
                maxGrowth: monster.growthTime,
                hunger: 100,
                happiness: 100,
                health: 100
            };
            
            pen.occupied = true;
            pen.element.classList.add('occupied');
            updatePenAppearance(penIndex);
            
            // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
            if (!gameState.collection[monsterType].unlocked) {
                gameState.collection[monsterType].unlocked = true;
                createCollectionDisplay();
            }
            
            updateUI();
            updateMonsterAvailability();
            
            showNotification(`–ö—É–ø–ª–µ–Ω: ${monster.name}! (-${monster.cost} –º–æ–Ω–µ—Ç)`);
        }

        // –£—Ö–æ–¥ –∑–∞ –º–æ–Ω—Å—Ç—Ä–∏–∫–æ–º
        function careMonster(action) {
            if (gameState.selectedPen === null) return;
            
            const pen = gameState.pens[gameState.selectedPen];
            if (!pen.occupied) return;
            
            const monster = pen.monster;
            let message = '';
            let success = false;
            
            switch (action) {
                case 'feed':
                    if (gameState.inventory.food > 0) {
                        gameState.inventory.food--;
                        monster.hunger = Math.min(100, monster.hunger + 30);
                        monster.happiness += 5;
                        message = '–ú–æ–Ω—Å—Ç—Ä–∏–∫ –ø–æ–∫–æ—Ä–º–ª–µ–Ω!';
                        success = true;
                    } else {
                        message = '–ù–µ—Ç –µ–¥—ã –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ!';
                    }
                    break;
                    
                case 'play':
                    if (gameState.inventory.toys > 0) {
                        gameState.inventory.toys--;
                        monster.happiness = Math.min(100, monster.happiness + 25);
                        message = '–ú–æ–Ω—Å—Ç—Ä–∏–∫ –ø–æ–∏–≥—Ä–∞–ª!';
                        success = true;
                    } else {
                        message = '–ù–µ—Ç –∏–≥—Ä—É—à–µ–∫ –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ!';
                    }
                    break;
                    
                case 'clean':
                    monster.happiness += 10;
                    monster.health = Math.min(100, monster.health + 5);
                    message = '–ú–æ–Ω—Å—Ç—Ä–∏–∫ –ø–æ—á–∏—â–µ–Ω!';
                    success = true;
                    break;
                    
                case 'heal':
                    if (gameState.inventory.medicine > 0) {
                        gameState.inventory.medicine--;
                        monster.health = Math.min(100, monster.health + 40);
                        message = '–ú–æ–Ω—Å—Ç—Ä–∏–∫ –ø–æ–ª–µ—á–µ–Ω!';
                        success = true;
                    } else {
                        message = '–ù–µ—Ç –ª–µ–∫–∞—Ä—Å—Ç–≤ –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ!';
                    }
                    break;
            }
            
            if (success) {
                updatePenAppearance(gameState.selectedPen);
                createInventoryDisplay();
                updateUI();
            }
            
            showNotification(message);
        }

        // –£—Ö–æ–¥ –∑–∞ –≤—Å–µ–º–∏ –º–æ–Ω—Å—Ç—Ä–∏–∫–∞–º–∏
        function careAllMonsters() {
            let caredCount = 0;
            
            gameState.pens.forEach((pen, index) => {
                if (pen.occupied && pen.monster.hunger < 80) {
                    if (gameState.inventory.food > 0) {
                        gameState.inventory.food--;
                        pen.monster.hunger = Math.min(100, pen.monster.hunger + 30);
                        pen.monster.happiness += 5;
                        caredCount++;
                    }
                }
            });
            
            if (caredCount > 0) {
                createInventoryDisplay();
                updateUI();
                showNotification(`–ü–æ–∫–æ—Ä–º–ª–µ–Ω–æ ${caredCount} –º–æ–Ω—Å—Ç—Ä–∏–∫–æ–≤!`);
            } else {
                showNotification('–í—Å–µ –º–æ–Ω—Å—Ç—Ä–∏–∫–∏ —Å—ã—Ç—ã –∏–ª–∏ –Ω–µ—Ç –µ–¥—ã!');
            }
        }

        // –≠–≤–æ–ª—é—Ü–∏—è –º–æ–Ω—Å—Ç—Ä–∏–∫–∞
        function evolveMonster() {
            if (gameState.selectedPen === null) return;
            
            const pen = gameState.pens[gameState.selectedPen];
            if (!pen.occupied || pen.monster.stage !== 'adult') return;
            
            const monsterType = pen.monster.type;
            const monster = monsterTypes[monsterType];
            
            // –ù–∞–≥—Ä–∞–¥–∞ –∑–∞ —ç–≤–æ–ª—é—Ü–∏—é
            gameState.coins += monster.value;
            gameState.happiness += monster.happinessGain;
            gameState.collection[monsterType].count++;
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –º–æ–Ω—Å—Ç—Ä–∏–∫–∞
            pen.monster = null;
            pen.occupied = false;
            pen.element.classList.remove('occupied');
            updatePenAppearance(gameState.selectedPen);
            
            disableCareButtons();
            createCollectionDisplay();
            updateUI();
            
            showNotification(`–ú–æ–Ω—Å—Ç—Ä–∏–∫ —ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–ª! +${monster.value} –º–æ–Ω–µ—Ç, +${monster.happinessGain} —Å—á–∞—Å—Ç—å—è`);
        }

        // –ü–æ–∫—É–ø–∫–∞ –ø—Ä–µ–¥–º–µ—Ç–∞ –≤ –º–∞–≥–∞–∑–∏–Ω–µ
        function buyItem(itemType) {
            const items = {
                food: { cost: 5, effect: () => gameState.inventory.food++ },
                toy: { cost: 8, effect: () => gameState.inventory.toys++ },
                medicine: { cost: 12, effect: () => gameState.inventory.medicine++ },
                upgrade: { cost: 50, effect: () => gameState.level++ }
            };
            
            const item = items[itemType];
            
            if (gameState.coins >= item.cost) {
                gameState.coins -= item.cost;
                item.effect();
                
                updateUI();
                createInventoryDisplay();
                updateMonsterAvailability();
                
                showNotification(`–ö—É–ø–ª–µ–Ω –ø—Ä–µ–¥–º–µ—Ç! (-${item.cost} –º–æ–Ω–µ—Ç)`);
            } else {
                showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç!');
            }
        }

        // –í–∫–ª—é—á–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ —É—Ö–æ–¥–∞
        function enableCareButtons() {
            document.getElementById('feed-btn').disabled = false;
            document.getElementById('play-btn').disabled = false;
            document.getElementById('clean-btn').disabled = false;
            document.getElementById('heal-btn').disabled = false;
            document.getElementById('evolve-btn').disabled = false;
        }

        // –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ —É—Ö–æ–¥–∞
        function disableCareButtons() {
            document.getElementById('feed-btn').disabled = true;
            document.getElementById('play-btn').disabled = true;
            document.getElementById('clean-btn').disabled = true;
            document.getElementById('heal-btn').disabled = true;
            document.getElementById('evolve-btn').disabled = true;
        }

        // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞
        function openShop() {
            document.getElementById('shop-modal').style.display = 'flex';
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞
        function closeShop() {
            document.getElementById('shop-modal').style.display = 'none';
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞ –∑–∞–≥–æ–Ω–∞
        function updatePenAppearance(penIndex) {
            const pen = gameState.pens[penIndex];
            const penElement = pen.element;
            
            // –û—á–∏—â–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∑–∞–≥–æ–Ω–∞
            penElement.querySelector('.pen-content').innerHTML = '';
            
            if (pen.occupied) {
                const monster = pen.monster;
                const monsterType = monsterTypes[monster.type];
                
                const monsterElement = document.createElement('div');
                monsterElement.className = `monster ${monsterType.class} ${monster.stage}`;
                
                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
                if (monster.happiness >= 80) {
                    monsterElement.classList.add('happy');
                } else if (monster.hunger <= 30) {
                    monsterElement.classList.add('hungry');
                }
                
                const statusElement = document.createElement('div');
                statusElement.className = 'monster-status';
                
                statusElement.innerHTML = `
                    <div>${monsterType.name} (${monster.stage})</div>
                    <div class="status-bar">
                        <div class="status-fill hunger-fill" style="width: ${monster.hunger}%"></div>
                    </div>
                    <div class="status-bar">
                        <div class="status-fill happiness-fill" style="width: ${monster.happiness}%"></div>
                    </div>
                `;
                
                penElement.querySelector('.pen-content').appendChild(monsterElement);
                penElement.querySelector('.pen-content').appendChild(statusElement);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É —ç–≤–æ–ª—é—Ü–∏–∏
                document.getElementById('evolve-btn').disabled = monster.stage !== 'adult';
            } else {
                penElement.querySelector('.pen-content').textContent = '–ü—É—Å—Ç–æ';
            }
        }

        // –ò–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
        function gameLoop() {
            let monstersUpdated = false;
            
            gameState.pens.forEach((pen, index) => {
                if (pen.occupied) {
                    const monster = pen.monster;
                    
                    // –£–º–µ–Ω—å—à–∞–µ–º –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º
                    monster.hunger = Math.max(0, monster.hunger - gameState.timeScale * 0.5);
                    monster.happiness = Math.max(0, monster.happiness - gameState.timeScale * 0.3);
                    
                    // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ä–æ—Å—Ç
                    monster.growth += gameState.timeScale;
                    
                    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—Ç–∞–¥–∏—é —Ä–æ—Å—Ç–∞
                    if (monster.growth < monster.maxGrowth * 0.3) {
                        monster.stage = 'baby';
                    } else if (monster.growth < monster.maxGrowth) {
                        monster.stage = 'teen';
                    } else {
                        monster.stage = 'adult';
                    }
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥
                    updatePenAppearance(index);
                    monstersUpdated = true;
                }
            });
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—â–µ–µ —Å—á–∞—Å—Ç—å–µ —Ñ–µ—Ä–º—ã
            if (monstersUpdated) {
                updateFarmHappiness();
                updateUI();
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–∞—Å—Ç—å—è —Ñ–µ—Ä–º—ã
        function updateFarmHappiness() {
            let totalHappiness = 0;
            let monsterCount = 0;
            
            gameState.pens.forEach(pen => {
                if (pen.occupied) {
                    totalHappiness += pen.monster.happiness;
                    monsterCount++;
                }
            });
            
            gameState.happiness = monsterCount > 0 ? Math.round(totalHappiness / monsterCount) : 100;
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function updateUI() {
            document.getElementById('happiness').textContent = gameState.happiness;
            document.getElementById('coins').textContent = gameState.coins;
            document.getElementById('level').textContent = gameState.level;
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.onload = initGame;
    </script>
</body>
</html>